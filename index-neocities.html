<!DOCTYPE html>
<html lang="en">
<head>
  <title>ðŸ’— Serenity now... Insanity later</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link href="css/style.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
</head>
<body><div id="random-quote-box"></div>
<div id="emoji-corner"></div>

  <div class="webgl"></div>



  <div class="over">
      <img id="hoot-img" src="hoot.png" alt="Hoot" />

    <h1>serenity now</h1>
     insanity later
    <div id="emoji-target"></div>
    <a href="/?dev" id="hoot-link">dev
</a>     <a href="/more" id="hoot-lin2k">more
</a>
    <div class="btn-container">
      <div class="big-btn">Seriously?</div>
    </div>
  </div>
<!-- Floating Mixcloud (bottom left) -->
<div id="floating-mixcloud">
  <iframe src="https://player-widget.mixcloud.com/widget/iframe/?hide_cover=1&mini=1&feed=%2Fserenityn0w%2F" allow="encrypted-media; fullscreen; autoplay; idle-detection; speaker-selection; web-share;"></iframe>
</div>
<!-- Floating BandLab (bottom right) -->
<div id="floating-bandlab">
  <iframe src="https://www.bandlab.com/embed/?id=3f2ca632-f86f-f011-b480-000d3aa44c65" allowfullscreen></iframe>
</div>
  <!-- JS Imports -->
  <script src="lib/three.min.js"></script><script src="lib/stats.min.js"></script><script src="lib/SimplexNoise.js"></script><script src="lib/minivents.min.js"></script><script src="lib/TweenMax.min.js"></script><script src="lib/OrbitControls.js"></script><script src="lib/dat.gui.min.js"></script><script src="lib/atutil.js"></script><script src="lib/seedrandom.js"></script><script src="lib/three/postprocessing/EffectComposer.js"></script><script src="lib/three/postprocessing/RenderPass.js"></script><script src="lib/three/postprocessing/MaskPass.js"></script><script src="lib/three/postprocessing/ShaderPass.js"></script><script src="lib/three/shaders/FXAAShader.js"></script><script src="lib/three/shaders/CopyShader.js"></script><script src="lib/three/shaders/VignetteShader.js"></script><script src="js/SuperShader.js"></script><script src="js/TiltShiftShader.js"></script><script src="js/NoiseShader.js"></script><script src="js/SpaceShader.js"></script><script src="js/CustomRGBShiftShader.js"></script><script src="js/StarShader.js"></script><script src="js/Stars.js"></script><script src="js/Confetti.js"></script><script src="js/Ribbon.js"></script><script src="js/main.js"></script>

  <!-- Custom Script -->
  <script>
    // Button randomizer
    const messages = ["What","Why","Now","Really","Again","Seriously","Wait","Huh","Uh...","Nope","This?","That?","How","Who","Where","When","Which","Maybe","Oops","Bruh","Yo","Help","Pls","IDK","Hm","Wut","Meh","Ehh","Sigh","Fine","Ok","lol","what even","is this","donâ€™t","not again","stop","more?","why tho"];
    const punctuations = ["?","!","...","?!","!?","??","â€½"];
    const btn = document.querySelector(".big-btn");
    if (btn) { const message = messages[Math.floor(Math.random() * messages.length)]; const punct = punctuations[Math.floor(Math.random() * punctuations.length)]; btn.textContent = message + punct; }

    // Emoji generator
    function getRandomEmoji() { const 
    
    ranges = [
  [0x1F600, 0x1F64F],  // Emoticons (faces, people)
  [0x1F300, 0x1F5FF],  // Misc Symbols & Pictographs (nature, objects)
  [0x1F680, 0x1F6FF],  // Transport & Map Symbols (vehicles)
  [0x1F900, 0x1F9FF],  // Supplemental Symbols (new animals, food)
  [0x1FA70, 0x1FAFF],  // Symbols Extended-A (new gear, crafts)
];
    
    
    const range = ranges[Math.floor(Math.random() * ranges.length)]; const codePoint = Math.floor(Math.random() * (range[1] - range[0] + 1)) + range[0]; return String.fromCodePoint(codePoint); }
    function getRandomEmojis(count = 4) { let emojis = ''; for (let i = 0; i < count; i++) { emojis += getRandomEmoji() + ' '; } return emojis.trim(); }
    window.addEventListener('DOMContentLoaded', () => { const p = document.getElementById('emoji-target'); const emojis = getRandomEmojis(4); p.textContent = `${emojis} !`; });

// Title clock with date
function updateTitleClock() {
    const now = new Date();

    // Format time
    let hours = now.getHours() % 12;
    if (hours === 0) hours = 12;
    const minutes = now.getMinutes().toString().padStart(2, '0');

    // Format date as "Thu Sep 11"
    const weekdays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", 
                    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    const weekday = weekdays[now.getDay()];
    const month = months[now.getMonth()];
    const day = now.getDate();

    const dateStr = `${weekday} ${month} ${day}`;

    // Remove previous time and date prefix
    const originalTitle = document.title.replace(/^\d{1,2}:\d{2} [A-Za-z]{3} [A-Za-z]{3} \d{1,2} /, '');

    // Update title
    document.title = `${hours}:${minutes} ${dateStr} ${originalTitle}`;
}

// Update every 30 seconds
setInterval(updateTitleClock, 30000);
updateTitleClock();

window.addEventListener('DOMContentLoaded', () => {
  window.history.replaceState(null, null, '#insanity-later');
});

window.addEventListener('DOMContentLoaded', () => {
  const emojiCorner = document.getElementById('emoji-corner');
  const emojis = getRandomEmojis(4);
  emojiCorner.textContent = emojis;
});



window.addEventListener("load", () => {
  const mixcloud = document.getElementById("floating-mixcloud");
  const bandlab = document.getElementById("floating-bandlab");
  const over = document.querySelector(".over");
  const hootImg = document.getElementById("hoot-img");
  const quote = document.getElementById("random-quote-box");
  
  const cornder = document.getElementById("emoji-corner");
  
  // Always hide .over and hoot-img after 60 seconds
  setTimeout(() => {
    if (over) over.style.display = "none";
    if (hootImg) hootImg.style.display = "none";
        if (quote) quote.style.display = "none";
                if (cornder) cornder.style.display = "none";


  }, 60000);
  function setupHideTimer(element, delay = 60000) {
    let interacted = false;
    const hide = () => {
      if (!interacted) element.style.display = "none";
    };
    let timeoutId = setTimeout(hide, delay);

    const onInteract = () => {
      interacted = true;
      clearTimeout(timeoutId);
    };

    element.addEventListener("mouseenter", onInteract);
    element.addEventListener("focusin", onInteract);
  }
  setupHideTimer(mixcloud);
  setupHideTimer(bandlab);
});
  </script>
<style>

#emoji-corner {
  position: fixed;
  top: 10px;
  left: 10px;
  font-size: 3rem;      /* Make emojis big */
  line-height: 1;       /* Tighter lines */
  z-index: 11000;       /* Above everything */
  user-select: none;    /* Optional: prevent text selection */
  pointer-events: none; /* Optional: click passes through */
}


#hoot-img {
  position: fixed;
  top: 10px;
  left: 10px;
  width: 50px;
  height: auto;
  opacity: 0.9;
  z-index: 9999;
  pointer-events: none;
}

#floating-mixcloud {
  position: fixed;
  bottom: 10px;
  left: 10px;
  width: 370px;
  height: 60px;
  z-index: 10000;
  border-radius: 6px;
  overflow: hidden;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.4);
}

#floating-mixcloud iframe {
  width: 100%;
  height: 100%;
  border: none;
}

#floating-bandlab {
  position: fixed;
  top: 10px;
  right: 10px;
  width: 370px;
  height: 120px;
  z-index: 10000;
  border-radius: 6px;
  overflow: hidden;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.4);
}

#floating-bandlab iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Quote box style - example */
#random-quote-box {
  position: fixed;
  bottom: 10px;
  right: 10px;
  width: 300px;
  max-height: 200px;
  overflow: auto;
  font-size: 14px;
  font-family: 'Georgia', serif;
  background: rgba(0, 0, 0, 0.7);
  color: #f0f0f0;
  padding: 10px 15px;
  border-radius: 8px;
  z-index: 10001; /* Make sure quote is above Mixcloud */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

/* MOBILE RESPONSIVE FIX */
@media (max-width: 600px) {
  #floating-mixcloud {
    width: 100%;
    height: 80px;
    bottom: 80px; /* Move up to avoid overlapping quote */
    left: 0;
    border-radius: 0;
    box-shadow: none;
  }

  #random-quote-box {
    bottom: 10px;
    right: 10px;
    width: 90%;
  }
}


</style>
<script>
  async function showRandomQuote() {
    try {
      const response = await fetch('quotes.txt');
      const text = await response.text();
      const lines = text.trim().split('\n');

      if (lines.length === 0) return;

      const randomLine = lines[Math.floor(Math.random() * lines.length)];
      const [author, source, quote] = randomLine.split('|');

      const box = document.getElementById('random-quote-box');
      box.innerHTML = `
        <div style="font-style: italic;">"${quote}"</div>
        <div style="margin-top: 8px; font-size: 12px; color: #ccc;">
          â€” ${author}${source ? ', <em>' + source + '</em>' : ''}
        </div>
      `;
    } catch (err) {
      console.error('Failed to load quote:', err);
    }
  }

  window.addEventListener('DOMContentLoaded', showRandomQuote);
</script>
<script>
  if (window.location.search.includes('?dev')) {
    const bandlab = document.getElementById('floating-bandlab');
    if (bandlab) {
      bandlab.style.display = 'none';
    }
  }
</script>

</body>
</html>
